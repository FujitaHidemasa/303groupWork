<!DOCTYPE html>
<html lang="ja"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>会員情報の変更｜VOIDR</title>
  <link rel="stylesheet" th:href="@{/css/ec/header.css}">
  <link rel="stylesheet" th:href="@{/css/mypage/mypage.css}">
</head>
<body>

  <!-- 共通ヘッダー -->
  <div th:replace="fragments/header :: header"></div>

  <main class="mypage-container">
	<aside class="mypage-sidebar">
				<h2>メニュー</h2>
				<ul>
					<li>
						<a th:href="@{/mypage/orders}" 
						   th:classappend="${currentPath == '/mypage/orders'} ? 'active'">
						   購入履歴
						</a>
					</li>
					<li>
						<a th:href="@{/mypage/edit}" 
						   th:classappend="${currentPath == '/mypage/edit'} ? 'active'">
						   会員情報変更
						</a>
					</li>
					<li>
						<a th:href="@{/mypage/address}" 
						   th:classappend="${currentPath == '/mypage/address'} ? 'active'">
						   お届け先管理
						</a>
					</li>
					<li>
						<a th:href="@{/favorites/{userId}(userId=${#authentication.principal.id})}" 
						   th:classappend="${currentPath == '/mypage/wishlist'} ? 'active'"
						   sec:authorize="isAuthenticated()">
						   お気に入り
						</a>

					</li>
					<li>
						<a th:href="@{/mypage/delete}" 
						   th:classappend="${currentPath == '/mypage/delete'} ? 'active'">
						   退会手続き
						</a>
					</li>
				</ul>
			</aside>

    <section class="mypage-content">
      <h2>会員情報の変更</h2>
	  <form th:action="@{/mypage/edit/submit}" th:object="${account}" method="post" class="member-form">
	    <div class="form-group">
	      <label for="displayName">氏名</label>
	      <input type="text" id="displayName" th:field="*{displayName}">
	    </div>

	    <div class="form-group">
	      <label for="email">メールアドレス</label>
	      <input type="email" id="email" th:field="*{email}">
	    </div>

	    <div class="form-group">
	      <label for="password">パスワード</label>
	      <input type="password" id="password" th:field="*{password}" placeholder="変更する場合のみ入力">
	    </div>

	    <div class="form-group">
	      <label for="phoneNumber">電話番号</label>
	      <input type="text" id="phoneNumber" th:field="*{phoneNumber}">
	    </div>

	    <div class="form-group">
	      <label for="address">住所</label>
	      <input type="text" id="address" th:field="*{address}">
	    </div>

	    <div class="form-actions">
	      <button type="submit" class="btn">変更を保存</button>
	    </div>
	  </form>

    </section>
  </main>

  <footer class="main-footer">
    <p>&copy; 2025 VOIDR STORE. All rights reserved.</p>
  </footer>

</body>
</html>
