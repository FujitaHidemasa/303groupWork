<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja"
	th:replace="layout/shop_base :: base_layout(~{::content}, ${item.name} + 'å•†å“è©³ç´°', null)">

<th:block th:fragment="content">

	<main>
		<section>
			<h2 style="text-align: center;" th:text="${item.name}">å•†å“ã®è©³ç´°</h2>

			<div class="product-detail">
				<img th:src="@{/images/{file}(file=${item.thumbsImageName})}"
					onerror="this.onerror=null;this.src='/image/no_image.png';">

				<table>
					<tr>
						<th>å•†å“å</th>
						<td th:text="${item.name}">å•†å“A</td>
					</tr>
					<tr>
						<th>ä¾¡æ ¼</th>
						<td><span th:text="${item.price}"></span>å††</td>
					</tr>
					<tr>
						<th>å•†å“èª¬æ˜</th>
						<td th:text="${item.overview}">èª¬æ˜</td>
					</tr>
					<tr>
						<th>è³¼å…¥</th>
						<td>
							<div class="action-buttons">

								<form th:action="@{/voidrshop/cart/add}" method="post">
									<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
									<input type="hidden" name="itemId" th:value="${item.id}">

									<!-- ğŸ›’ ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ -->
									<button type="submit" class="cart-add-btn">
										<span class="cart-icon">ğŸ›’</span>
										<span class="label">ã‚«ãƒ¼ãƒˆã«è¿½åŠ </span>
									</button>
								</form>

								<button type="button" class="favorite-btn"
									th:attr="data-item-id=${item.id}, aria-pressed=${isFavorite}, data-fav=${isFavorite}">
									<span class="star" th:text="${isFavorite} ? 'â˜…' : 'â˜†'">â˜†</span>
									<span class="label"> ãŠæ°—ã«å…¥ã‚Š</span>
								</button>

							</div>
						</td>
					</tr>
				</table>
			</div>
		</section>

		<section>
			<p style="text-align: center;">
				<a th:href="@{/voidrshop/items}">å•†å“ä¸€è¦§ã«æˆ»ã‚‹</a>
			</p>
		</section>
	</main>

	<style>
		body {
			text-align: center;
			font-family: "Noto Sans JP", "Segoe UI", "Helvetica Neue", sans-serif;
		}

		main {
			max-width: 1000px;
			margin: 30px auto;
			text-align: left;
		}

		.product-detail {
			display: flex;
			justify-content: space-between;
			align-items: flex-start;
			gap: 40px;
			margin: 20px auto;
			width: fit-content;
		}

		.product-detail img {
			width: 400px;
			height: auto;
			border: 1px solid #ccc;
		}

		table {
			border-collapse: collapse;
			width: 450px;
		}

		th,
		td {
			padding: 10px 12px;
			border-bottom: 1px solid #ccc;
			text-align: left;
			vertical-align: top;
		}

		th {
			width: 120px;
			white-space: nowrap;
		}

		.action-buttons {
			display: flex;
			gap: 10px;
			margin-top: 10px;
		}

		.related-products {
			display: flex;
			justify-content: center;
			gap: 20px;
			margin-top: 40px;
		}

		.related-products div {
			text-align: center;
			width: 150px;
		}

		.related-products img {
			width: 100%;
			height: auto;
			border: 1px solid #ccc;
			border-radius: 4px;
		}

		/* âœ… ã‚«ãƒ¼ãƒˆè¿½åŠ ãƒœã‚¿ãƒ³ï¼ˆé’ç³»ãƒ»å…¨ä½“è‰²ä»˜ãï¼‰ */
		.cart-add-btn {
			background-color: #1E40FF;
			/* ãƒ¡ã‚¤ãƒ³é’ */
			color: #fff;
			padding: 10px 18px;
			border-radius: 6px;
			text-decoration: none;
			font-weight: bold;
			display: flex;
			align-items: center;
			gap: 8px;
			border: none;
			cursor: pointer;
			font-size: 15px;
			transition: background-color 0.2s, box-shadow 0.2s;
		}

		.cart-add-btn:hover {
			background-color: #1533CC;
			/* æ¿ƒã„é’ */
			box-shadow: 0 0 8px rgba(30, 64, 255, 0.4);
		}

		.cart-add-btn .cart-icon {
			font-size: 18px;
			line-height: 1;
		}

		/* â˜…ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³ */
		.favorite-btn {
			background: #f5f5f5;
			border: 1px solid #ccc;
			border-radius: 6px;
			padding: 10px 14px;
			cursor: pointer;
			font-weight: bold;
			display: flex;
			align-items: center;
			gap: 4px;
			transition: background-color 0.2s;
		}

		.favorite-btn:hover {
			background-color: #e8e8e8;
		}

		.favorite-btn .star {
			transition: color 0.15s ease;
			font-size: 18px;
		}

		.favorite-btn[data-fav="true"] .star {
			color: #FFD700;
		}
	</style>

	<!-- ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
	<script th:src="@{/js/favorite.js}"></script>

</th:block>

</html>