<!-- ============================================================
  注文管理（Wireframe Version）
  現在はDB未連携のため、仮データを静的に表示しています。

  【今後の実装方針】
  ・このページでは全ユーザーの注文履歴を一覧表示し、
    ユーザー名、商品名、価格、購入日時などを確認できるようにします。
  ・管理画面専用の Controller（AdminOrderController）を追加。
  ・Service/Mapper は既存の OrderService / OrderMapper を再利用します。
  ・Spring Security により /admin/** を認可制限予定。
============================================================= -->

<!-- ============================================================
				注文管理（DB連携版）
============================================================= -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja"
	th:replace="layout/admin_base :: admin_base(~{::content}, '注文管理', ~{::assets})">


<th:block th:fragment="content">
	<section class="section">
		<h1>注文管理</h1>

		<!-- 注文がない場合 -->
		<p th:if="${#lists.isEmpty(orderLists)}"
			style="margin-bottom:16px; color:#666;">
			現在、登録されている注文はありません。
		</p>

		<!-- 注文一覧テーブル -->
		<div class="table-container" th:if="${!#lists.isEmpty(orderLists)}">
			<table>
				<thead>
					<tr>
						<th>注文ID</th>
						<th>注文日</th>
						<th>会員ID</th>
						<th>合計金額</th>
						<th>詳細</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="ol : ${orderLists}">
						<!-- 注文ID -->
						<td th:text="${ol.id}">1001</td>

						<!-- 注文日 -->
						<td th:text="${#temporals.format(ol.createdAt, 'yyyy/MM/dd HH:mm')}">
							2025/11/01 10:00
						</td>

						<!-- 会員ID（login_user.username） -->
						<td th:text="${ol.username}">sample_user</td>

						<!-- 合計金額 -->
						<td th:text="'¥' + ${#numbers.formatInteger(totalPriceMap[ol.id], 0)}">
							¥8,200
						</td>

						<!-- 詳細ボタン -->
						<td>
							<a class="btn btn-edit"
								th:href="@{/admin/orders/{id}(id=${ol.id})}">
								詳細
							</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</section>
</th:block>

</html>