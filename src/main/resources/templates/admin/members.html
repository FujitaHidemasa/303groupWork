<!-- ============================================================
  会員管理ページ（11/13 更新）

  【現在の実装状況】
  ・login_user テーブルと連携し、会員の一覧表示を実装済み
  ・ユーザーID／氏名／メールアドレスでの部分一致検索も実装済み

  【未実装部分】
  ・「編集」「削除」ボタンは現在ダミー（フェイク）

  【補足】
  ・Service / Mapper は既存の AccountService / AccountMapper を利用
  ・/admin/** へのアクセス制限は後日 Spring Security で設定予定
============================================================= -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja"
      th:replace="layout/admin_base :: admin_base(~{::content}, '会員管理', ~{::assets})">

	  <th:block th:fragment="assets">
	    <link rel="stylesheet" th:href="@{/css/admin/members.css}">
	  </th:block>
	  
<th:block th:fragment="content">
	<div class="table-container">
	<section class="section">
	  <h1>会員管理</h1>

	  <div class="search-area">
	    <form th:action="@{/admin/members}" method="get"
	          class="search-area"
	          style="display:flex; gap:8px; width:100%;">

	      <input type="text" name="keyword"
	             placeholder="ユーザーID・氏名・メールアドレスで検索"
	             th:value="${keyword}" style="flex:1;">

	      <button type="submit">検索</button>
	    </form>
	  </div>
	    <table>
	      <thead>
	        <tr>
	          <th>ID</th>
	          <th>ユーザーID</th>
	          <th>氏名</th>
	          <th>権限</th>
	          <th>Email</th>
	          <th>登録日</th>
	          <th>操作</th>
	        </tr>
	      </thead>
	      <tbody>
			<tr th:each="m : ${members}">
			  <td th:text="${m.id}"></td>
			  <td th:text="${m.username}"></td>
			  <td th:text="${m.displayName}"></td>
			  <td th:text="${m.authority}"></td>
			  <td th:text="${m.email}"></td>
			  <td th:text="${#temporals.format(m.createdAt, 'yyyy/MM/dd')}"></td>
			  <td class="actions">
			    <button class="btn btn-edit">編集</button>
			    <button class="btn btn-delete">削除</button>
			  </td>
			</tr>
	      </tbody>
	    </table>
	</section>
	</div>

</th:block>
</html>
