<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>お気に入り一覧</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="container">
        <h1>お気に入り一覧</h1>

        <div th:if="${#lists.isEmpty(favorites)}">
            <p>お気に入りに登録された商品はありません。</p>
        </div>

        <div th:if="${!#lists.isEmpty(favorites)}">
            <table border="1" cellspacing="0" cellpadding="8">
                <thead>
                    <tr>
                        <th>商品画像</th>
                        <th>商品名</th>
                        <th>価格</th>
                        <th>登録日</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="fav : ${favorites}">
                        <td>
                            <img th:src="@{'/images/' + ${fav.item.thumbsImageName}}" alt="商品画像" width="100">
                        </td>
                        <td th:text="${fav.item.name}"></td>
                        <td th:text="${#numbers.formatInteger(fav.item.price, 1, 'COMMA')} + '円'"></td>
                        <td th:text="${#temporals.format(fav.createdAt, 'yyyy/MM/dd HH:mm')}"></td>
                        <td>
                            <form th:action="@{'/favorites/remove/' + ${fav.userId} + '/' + ${fav.itemId}}" method="post">
                                <button type="submit">削除</button>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <p><a th:href="@{/items}">商品一覧へ戻る</a></p>
    </div>
</body>
</html>
